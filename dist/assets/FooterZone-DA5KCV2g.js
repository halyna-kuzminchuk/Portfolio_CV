import{j as t,o as p,p as N,c as b,a as x,b as e,q as T,e as V,s as m,v as k,x as B,i as S,l as E,t as g}from"./index-4zfI2izt.js";import{g as w}from"./index-Brfk6Bdo.js";import{P as y}from"./PortfolioDatabase-CQYVuqIj.js";const j={class:"flex justify-between items-center xl:px-16 px-4 py-2 border-t-2 border-[color:var(--color-orange)] bg-[color:var(--color-bg)]"},L={class:"flex items-start flex-col md:flex-row py-2"},O={class:"italic text-[color:var(--color-orange)] ml-2"},I={__name:"FooterZone",setup(P){const n=t(!1),d=t(null),h=t(null),F=()=>{n.value=!n.value},v=a=>{d.value&&!d.value.contains(a.target)&&(n.value=!1)};p(()=>{document.addEventListener("click",v)}),N(()=>{document.removeEventListener("click",v)});const s=y.getAllFeedback(),l=t(""),r=t(""),_=async()=>{if(!(!l.value.trim()||!r.value.trim())){try{await fetch("http://localhost:3001/api/send-feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r.value,feedback:l.value})}),console.log("✅ Feedback email sent!")}catch(a){console.error("❌ Failed to send feedback:",a)}y.addFeedback(l.value,r.value),l.value="",r.value="",n.value=!1,c.value=s.value.length-1,u.value=s.value[c.value]}},c=t(0),u=t(s.value[0]),f=t(null),C=()=>{const a=f.value;w.to(a,{opacity:0,duration:.5,onComplete:()=>{c.value=(c.value+1)%s.value.length,u.value=s.value[c.value],w.to(a,{opacity:1,duration:.5,delay:.3})}})};return p(()=>{setInterval(C,4e3)}),(a,o)=>{const D=S("font-awesome-icon");return x(),b("footer",j,[e("div",L,[e("div",{class:"flex items-center bg-gradient-to-br shadow-sm from-[#D9D9D9] to-[#EDD0C6] relative",ref_key:"feedbackWrapper",ref:d},[e("button",{class:"border-none px-4 text-[color:var(--color-orange)] text-lg font-text] p-2 cursor-pointer hover:scale-105",onClick:F}," Leave feedback "),n.value?(x(),b("div",{key:0,ref_key:"feedbackContainer",ref:h,class:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-full max-h-96 bg-[color:var(--color-brown)] text-[color:var(--color-bg)] rounded-sm shadow-lg p-4 z-10 space-y-2 text-sm font-text"},[o[2]||(o[2]=e("p",null,"Your feedback:",-1)),m(e("input",{"onUpdate:modelValue":o[0]||(o[0]=i=>l.value=i),type:"text",maxlength:"100",class:"bg-[color:var(--color-bg)] w-full h-fit px-2 text-[color:var(--color-brown)]"},null,512),[[k,l.value]]),o[3]||(o[3]=e("p",null,"Your name:",-1)),m(e("input",{"onUpdate:modelValue":o[1]||(o[1]=i=>r.value=i),onKeydown:B(_,["enter"]),type:"text",class:"bg-[color:var(--color-bg)] w-full h-fit px-2 text-[color:var(--color-brown)]"},null,544),[[k,r.value]])],512)):T("",!0),V(D,{icon:["fas","quote-left"],class:"text-xl px-4 text-[color:var(--color-brown)]"})],512),e("div",null,[e("p",{ref_key:"feedbackText",ref:f,class:"text-lg text-[color:var(--color-brown)] text-left font-text p-2"},[E(' "'+g(u.value.text)+'" ',1),e("span",O,"— "+g(u.value.name),1)],512)])])])}}};export{I as default};
